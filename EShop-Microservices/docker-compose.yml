services:
    catalogdb:
        image: postgres

    basketdb:
        image: postgres

    distributedcache:
        image: redis

    catalog.api:
      image: ${DOCKER_REGISTRY-}catalogapi
      build:
        context: C:\Users\josem\Desktop\Repositories\Microservices-E-Commerce-App\EShop-Microservices\src\Services\Catalog\Catalog.API
        dockerfile: Dockerfile

    basket.api:
      image: ${DOCKER_REGISTRY-}basketapi
      build:
        context: C:\Users\josem\Desktop\Repositories\Microservices-E-Commerce-App\EShop-Microservices\src\Services\Basket\Basket.API
        dockerfile: Dockerfile

    discount.grpc:
      image: ${DOCKER_REGISTRY-}discountgrpc
      build:
        context: C:\Users\josem\Desktop\Repositories\Microservices-E-Commerce-App\EShop-Microservices\src\Services\Discount\Discount.gRPC
        dockerfile: Dockerfile

volumes:
    postgres_catalog:
    postgres_basket:
    